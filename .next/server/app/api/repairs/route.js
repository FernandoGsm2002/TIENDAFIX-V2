/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/repairs/route";
exports.ids = ["app/api/repairs/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frepairs%2Froute&page=%2Fapi%2Frepairs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frepairs%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frepairs%2Froute&page=%2Fapi%2Frepairs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frepairs%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Fernando_Desktop_TiendaFix_Web_app_api_repairs_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/repairs/route.ts */ \"(rsc)/./app/api/repairs/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/repairs/route\",\n        pathname: \"/api/repairs\",\n        filename: \"route\",\n        bundlePath: \"app/api/repairs/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Fernando\\\\Desktop\\\\TiendaFix-Web\\\\app\\\\api\\\\repairs\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Fernando_Desktop_TiendaFix_Web_app_api_repairs_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/repairs/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZXBhaXJzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyZXBhaXJzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcmVwYWlycyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNGZXJuYW5kbyU1Q0Rlc2t0b3AlNUNUaWVuZGFGaXgtV2ViJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNGZXJuYW5kbyU1Q0Rlc2t0b3AlNUNUaWVuZGFGaXgtV2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3dCO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGllbmRhZml4LXdlYi8/MzY5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxGZXJuYW5kb1xcXFxEZXNrdG9wXFxcXFRpZW5kYUZpeC1XZWJcXFxcYXBwXFxcXGFwaVxcXFxyZXBhaXJzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9yZXBhaXJzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmVwYWlyc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcmVwYWlycy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXEZlcm5hbmRvXFxcXERlc2t0b3BcXFxcVGllbmRhRml4LVdlYlxcXFxhcHBcXFxcYXBpXFxcXHJlcGFpcnNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcmVwYWlycy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frepairs%2Froute&page=%2Fapi%2Frepairs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frepairs%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/repairs/route.ts":
/*!**********************************!*\
  !*** ./app/api/repairs/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./lib/supabase/server.ts\");\n\n\nasync function GET(request) {\n    try {\n        console.log(\"\\uD83D\\uDD27 Repairs API called - getting real data\");\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createServerClient)();\n        const { searchParams } = new URL(request.url);\n        // Parámetros de consulta\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        const search = searchParams.get(\"search\") || \"\";\n        const status = searchParams.get(\"status\") || \"todos\";\n        const offset = (page - 1) * limit;\n        const organizationId = \"873d8154-8b40-4b8a-8d03-431bf9f697e6\" // ID fijo para pruebas\n        ;\n        try {\n            let query = supabase.from(\"repairs_view\").select(`*`, {\n                count: \"exact\"\n            }).eq(\"organization_id\", organizationId).order(\"created_at\", {\n                ascending: false\n            });\n            // Filtrar por estado si no es 'todos'\n            if (status !== \"todos\") {\n                query = query.eq(\"status\", status);\n            }\n            // Filtrar por búsqueda si se proporciona\n            if (search) {\n                const searchConditions = [\n                    `title.ilike.%${search}%`,\n                    `problem_description.ilike.%${search}%`,\n                    `customer_name.ilike.%${search}%`,\n                    `customer_anonymous_identifier.ilike.%${search}%`,\n                    `device_brand.ilike.%${search}%`,\n                    `device_model.ilike.%${search}%`,\n                    `device_imei.ilike.%${search}%`\n                ].join(\",\");\n                query = query.or(searchConditions);\n            }\n            // Obtener datos con paginación\n            const { data: flatRepairs, error, count } = await query.range(offset, offset + limit - 1);\n            if (error) {\n                console.error(\"\\uD83D\\uDEA8 Error fetching repairs:\", error);\n                throw error;\n            }\n            const repairs = flatRepairs.map((r)=>({\n                    id: r.id,\n                    title: r.title,\n                    description: r.description,\n                    problem_description: r.problem_description,\n                    solution_description: r.solution_description,\n                    status: r.status,\n                    priority: r.priority,\n                    estimated_cost: r.estimated_cost,\n                    final_cost: r.final_cost,\n                    estimated_completion_date: r.estimated_completion_date,\n                    actual_completion_date: r.actual_completion_date,\n                    received_date: r.received_date,\n                    delivered_date: r.delivered_date,\n                    warranty_days: r.warranty_days,\n                    internal_notes: r.internal_notes,\n                    customer_notes: r.customer_notes,\n                    created_at: r.created_at,\n                    updated_at: r.updated_at,\n                    customers: {\n                        id: r.customer_id,\n                        name: r.customer_name,\n                        email: r.customer_email,\n                        phone: r.customer_phone,\n                        anonymous_identifier: r.customer_anonymous_identifier,\n                        customer_type: r.customer_type\n                    },\n                    devices: {\n                        id: r.device_id,\n                        brand: r.device_brand,\n                        model: r.device_model,\n                        device_type: r.device_type,\n                        serial_number: r.device_serial_number,\n                        imei: r.device_imei,\n                        color: r.device_color\n                    },\n                    users: {\n                        id: r.created_by,\n                        name: r.created_by_name,\n                        email: r.created_by_email\n                    }\n                }));\n            // Obtener estadísticas\n            const statusCounts = [\n                supabase.from(\"repairs\").select(\"id\", {\n                    count: \"exact\",\n                    head: true\n                }).eq(\"organization_id\", organizationId).eq(\"status\", \"received\"),\n                supabase.from(\"repairs\").select(\"id\", {\n                    count: \"exact\",\n                    head: true\n                }).eq(\"organization_id\", organizationId).eq(\"status\", \"diagnosed\"),\n                supabase.from(\"repairs\").select(\"id\", {\n                    count: \"exact\",\n                    head: true\n                }).eq(\"organization_id\", organizationId).eq(\"status\", \"in_progress\"),\n                supabase.from(\"repairs\").select(\"id\", {\n                    count: \"exact\",\n                    head: true\n                }).eq(\"organization_id\", organizationId).eq(\"status\", \"completed\"),\n                supabase.from(\"repairs\").select(\"id\", {\n                    count: \"exact\",\n                    head: true\n                }).eq(\"organization_id\", organizationId).eq(\"status\", \"delivered\"),\n                supabase.from(\"repairs\").select(\"id\", {\n                    count: \"exact\",\n                    head: true\n                }).eq(\"organization_id\", organizationId).eq(\"status\", \"cancelled\")\n            ];\n            const [received, diagnosed, inProgress, completed, delivered, cancelled] = await Promise.all(statusCounts);\n            const stats = {\n                total: count || 0,\n                received: received.count || 0,\n                diagnosed: diagnosed.count || 0,\n                inProgress: inProgress.count || 0,\n                completed: completed.count || 0,\n                delivered: delivered.count || 0,\n                cancelled: cancelled.count || 0\n            };\n            console.log(`✅ Fetched ${repairs?.length || 0} repairs from database`);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                data: repairs || [],\n                stats: stats,\n                pagination: {\n                    page,\n                    limit,\n                    total: count || 0,\n                    totalPages: Math.ceil((count || 0) / limit)\n                }\n            });\n        } catch (dbError) {\n            console.error(\"\\uD83D\\uDEA8 Database query error:\", dbError);\n            // Devolver estructura vacía si falla la BD\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                data: [],\n                pagination: {\n                    page: 1,\n                    limit: 10,\n                    total: 0,\n                    totalPages: 0\n                }\n            });\n        }\n    } catch (error) {\n        console.error(\"\\uD83D\\uDEA8 Repairs API error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error interno del servidor\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        console.log(\"\\uD83D\\uDD27 Creating new repair...\");\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createServerClient)();\n        const body = await request.json();\n        console.log(\"\\uD83D\\uDCCB Repair request body:\", body);\n        const organizationId = \"873d8154-8b40-4b8a-8d03-431bf9f697e6\" // ID fijo para pruebas\n        ;\n        const createdById = \"a06654c1-d078-404d-bfec-72c883079a41\" // Fernando's user ID\n        ;\n        // Validaciones\n        if (!body.title || !body.problem_description) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"T\\xedtulo y descripci\\xf3n del problema son obligatorios\"\n            }, {\n                status: 400\n            });\n        }\n        // Validar si es cliente registrado o no\n        if (!body.customer_id && !body.unregistered_customer_name) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Debe proporcionar un cliente registrado o los datos de un cliente no registrado.\"\n            }, {\n                status: 400\n            });\n        }\n        const newRepair = {\n            organization_id: organizationId,\n            customer_id: body.customer_id || null,\n            device_id: body.device_id || null,\n            assigned_technician_id: null,\n            created_by: createdById,\n            title: body.title,\n            description: body.description || \"\",\n            problem_description: body.problem_description,\n            status: \"received\",\n            priority: body.priority || \"medium\",\n            estimated_cost: body.estimated_cost || 0,\n            received_date: new Date().toISOString(),\n            warranty_days: 90,\n            internal_notes: body.internal_notes || null,\n            // Campos para no registrados\n            unregistered_customer_name: body.unregistered_customer_name || null,\n            unregistered_customer_phone: body.unregistered_customer_phone || null,\n            unregistered_device_info: body.unregistered_device_info || null\n        };\n        console.log(\"\\uD83D\\uDCDD Repair data to insert:\", newRepair);\n        const { data: repair, error } = await supabase.from(\"repairs\").insert(newRepair).select().single();\n        if (error) {\n            console.error(\"\\uD83D\\uDEA8 Error creating repair:\", error);\n            console.error(\"\\uD83D\\uDEA8 Error details:\", {\n                message: error.message,\n                details: error.details,\n                hint: error.hint,\n                code: error.code\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Error al crear la reparaci\\xf3n\",\n                details: error.message\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"✅ Repair created successfully:\", repair.id);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: repair\n        });\n    } catch (error) {\n        console.error(\"\\uD83D\\uDEA8 Create repair error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error interno del servidor\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3JlcGFpcnMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1RDtBQUNHO0FBRW5ELGVBQWVFLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTUMsV0FBV0wsd0VBQWtCQTtRQUNuQyxNQUFNLEVBQUVNLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlMLFFBQVFNLEdBQUc7UUFFNUMseUJBQXlCO1FBQ3pCLE1BQU1DLE9BQU9DLFNBQVNKLGFBQWFLLEdBQUcsQ0FBQyxXQUFXO1FBQ2xELE1BQU1DLFFBQVFGLFNBQVNKLGFBQWFLLEdBQUcsQ0FBQyxZQUFZO1FBQ3BELE1BQU1FLFNBQVNQLGFBQWFLLEdBQUcsQ0FBQyxhQUFhO1FBQzdDLE1BQU1HLFNBQVNSLGFBQWFLLEdBQUcsQ0FBQyxhQUFhO1FBRTdDLE1BQU1JLFNBQVMsQ0FBQ04sT0FBTyxLQUFLRztRQUM1QixNQUFNSSxpQkFBaUIsdUNBQXVDLHVCQUF1Qjs7UUFFckYsSUFBSTtZQUNGLElBQUlDLFFBQVFaLFNBQ1RhLElBQUksQ0FBQyxnQkFDTEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQUVDLE9BQU87WUFBUSxHQUM3QkMsRUFBRSxDQUFDLG1CQUFtQkwsZ0JBQ3RCTSxLQUFLLENBQUMsY0FBYztnQkFBRUMsV0FBVztZQUFNO1lBRTFDLHNDQUFzQztZQUN0QyxJQUFJVCxXQUFXLFNBQVM7Z0JBQ3RCRyxRQUFRQSxNQUFNSSxFQUFFLENBQUMsVUFBVVA7WUFDN0I7WUFFQSx5Q0FBeUM7WUFDekMsSUFBSUQsUUFBUTtnQkFDVixNQUFNVyxtQkFBbUI7b0JBQ3ZCLENBQUMsYUFBYSxFQUFFWCxPQUFPLENBQUMsQ0FBQztvQkFDekIsQ0FBQywyQkFBMkIsRUFBRUEsT0FBTyxDQUFDLENBQUM7b0JBQ3ZDLENBQUMscUJBQXFCLEVBQUVBLE9BQU8sQ0FBQyxDQUFDO29CQUNqQyxDQUFDLHFDQUFxQyxFQUFFQSxPQUFPLENBQUMsQ0FBQztvQkFDakQsQ0FBQyxvQkFBb0IsRUFBRUEsT0FBTyxDQUFDLENBQUM7b0JBQ2hDLENBQUMsb0JBQW9CLEVBQUVBLE9BQU8sQ0FBQyxDQUFDO29CQUNoQyxDQUFDLG1CQUFtQixFQUFFQSxPQUFPLENBQUMsQ0FBQztpQkFDaEMsQ0FBQ1ksSUFBSSxDQUFDO2dCQUVQUixRQUFRQSxNQUFNUyxFQUFFLENBQUNGO1lBQ25CO1lBRUEsK0JBQStCO1lBQy9CLE1BQU0sRUFBRUcsTUFBTUMsV0FBVyxFQUFFQyxLQUFLLEVBQUVULEtBQUssRUFBRSxHQUFHLE1BQU1ILE1BQy9DYSxLQUFLLENBQUNmLFFBQVFBLFNBQVNILFFBQVE7WUFFbEMsSUFBSWlCLE9BQU87Z0JBQ1QxQixRQUFRMEIsS0FBSyxDQUFDLHdDQUE4QkE7Z0JBQzVDLE1BQU1BO1lBQ1I7WUFFQSxNQUFNRSxVQUFVSCxZQUFZSSxHQUFHLENBQUNDLENBQUFBLElBQU07b0JBQ3BDQyxJQUFJRCxFQUFFQyxFQUFFO29CQUNSQyxPQUFPRixFQUFFRSxLQUFLO29CQUNkQyxhQUFhSCxFQUFFRyxXQUFXO29CQUMxQkMscUJBQXFCSixFQUFFSSxtQkFBbUI7b0JBQzFDQyxzQkFBc0JMLEVBQUVLLG9CQUFvQjtvQkFDNUN4QixRQUFRbUIsRUFBRW5CLE1BQU07b0JBQ2hCeUIsVUFBVU4sRUFBRU0sUUFBUTtvQkFDcEJDLGdCQUFnQlAsRUFBRU8sY0FBYztvQkFDaENDLFlBQVlSLEVBQUVRLFVBQVU7b0JBQ3hCQywyQkFBMkJULEVBQUVTLHlCQUF5QjtvQkFDdERDLHdCQUF3QlYsRUFBRVUsc0JBQXNCO29CQUNoREMsZUFBZVgsRUFBRVcsYUFBYTtvQkFDOUJDLGdCQUFnQlosRUFBRVksY0FBYztvQkFDaENDLGVBQWViLEVBQUVhLGFBQWE7b0JBQzlCQyxnQkFBZ0JkLEVBQUVjLGNBQWM7b0JBQ2hDQyxnQkFBZ0JmLEVBQUVlLGNBQWM7b0JBQ2hDQyxZQUFZaEIsRUFBRWdCLFVBQVU7b0JBQ3hCQyxZQUFZakIsRUFBRWlCLFVBQVU7b0JBQ3hCQyxXQUFXO3dCQUNUakIsSUFBSUQsRUFBRW1CLFdBQVc7d0JBQ2pCQyxNQUFNcEIsRUFBRXFCLGFBQWE7d0JBQ3JCQyxPQUFPdEIsRUFBRXVCLGNBQWM7d0JBQ3ZCQyxPQUFPeEIsRUFBRXlCLGNBQWM7d0JBQ3ZCQyxzQkFBc0IxQixFQUFFMkIsNkJBQTZCO3dCQUNyREMsZUFBZTVCLEVBQUU0QixhQUFhO29CQUNoQztvQkFDQUMsU0FBUzt3QkFDUDVCLElBQUlELEVBQUU4QixTQUFTO3dCQUNmQyxPQUFPL0IsRUFBRWdDLFlBQVk7d0JBQ3JCQyxPQUFPakMsRUFBRWtDLFlBQVk7d0JBQ3JCQyxhQUFhbkMsRUFBRW1DLFdBQVc7d0JBQzFCQyxlQUFlcEMsRUFBRXFDLG9CQUFvQjt3QkFDckNDLE1BQU10QyxFQUFFdUMsV0FBVzt3QkFDbkJDLE9BQU94QyxFQUFFeUMsWUFBWTtvQkFDdkI7b0JBQ0FDLE9BQU87d0JBQ0x6QyxJQUFJRCxFQUFFMkMsVUFBVTt3QkFDaEJ2QixNQUFNcEIsRUFBRTRDLGVBQWU7d0JBQ3ZCdEIsT0FBT3RCLEVBQUU2QyxnQkFBZ0I7b0JBQzNCO2dCQUNGO1lBRUEsdUJBQXVCO1lBQ3ZCLE1BQU1DLGVBQWU7Z0JBQ25CMUUsU0FBU2EsSUFBSSxDQUFDLFdBQVdDLE1BQU0sQ0FBQyxNQUFNO29CQUFFQyxPQUFPO29CQUFTNEQsTUFBTTtnQkFBSyxHQUFHM0QsRUFBRSxDQUFDLG1CQUFtQkwsZ0JBQWdCSyxFQUFFLENBQUMsVUFBVTtnQkFDekhoQixTQUFTYSxJQUFJLENBQUMsV0FBV0MsTUFBTSxDQUFDLE1BQU07b0JBQUVDLE9BQU87b0JBQVM0RCxNQUFNO2dCQUFLLEdBQUczRCxFQUFFLENBQUMsbUJBQW1CTCxnQkFBZ0JLLEVBQUUsQ0FBQyxVQUFVO2dCQUN6SGhCLFNBQVNhLElBQUksQ0FBQyxXQUFXQyxNQUFNLENBQUMsTUFBTTtvQkFBRUMsT0FBTztvQkFBUzRELE1BQU07Z0JBQUssR0FBRzNELEVBQUUsQ0FBQyxtQkFBbUJMLGdCQUFnQkssRUFBRSxDQUFDLFVBQVU7Z0JBQ3pIaEIsU0FBU2EsSUFBSSxDQUFDLFdBQVdDLE1BQU0sQ0FBQyxNQUFNO29CQUFFQyxPQUFPO29CQUFTNEQsTUFBTTtnQkFBSyxHQUFHM0QsRUFBRSxDQUFDLG1CQUFtQkwsZ0JBQWdCSyxFQUFFLENBQUMsVUFBVTtnQkFDekhoQixTQUFTYSxJQUFJLENBQUMsV0FBV0MsTUFBTSxDQUFDLE1BQU07b0JBQUVDLE9BQU87b0JBQVM0RCxNQUFNO2dCQUFLLEdBQUczRCxFQUFFLENBQUMsbUJBQW1CTCxnQkFBZ0JLLEVBQUUsQ0FBQyxVQUFVO2dCQUN6SGhCLFNBQVNhLElBQUksQ0FBQyxXQUFXQyxNQUFNLENBQUMsTUFBTTtvQkFBRUMsT0FBTztvQkFBUzRELE1BQU07Z0JBQUssR0FBRzNELEVBQUUsQ0FBQyxtQkFBbUJMLGdCQUFnQkssRUFBRSxDQUFDLFVBQVU7YUFDMUg7WUFFRCxNQUFNLENBQ0o0RCxVQUNBQyxXQUNBQyxZQUNBQyxXQUNBQyxXQUNBQyxVQUNELEdBQUcsTUFBTUMsUUFBUUMsR0FBRyxDQUFDVDtZQUV0QixNQUFNVSxRQUFRO2dCQUNaQyxPQUFPdEUsU0FBUztnQkFDaEI2RCxVQUFVQSxTQUFTN0QsS0FBSyxJQUFJO2dCQUM1QjhELFdBQVdBLFVBQVU5RCxLQUFLLElBQUk7Z0JBQzlCK0QsWUFBWUEsV0FBVy9ELEtBQUssSUFBSTtnQkFDaENnRSxXQUFXQSxVQUFVaEUsS0FBSyxJQUFJO2dCQUM5QmlFLFdBQVdBLFVBQVVqRSxLQUFLLElBQUk7Z0JBQzlCa0UsV0FBV0EsVUFBVWxFLEtBQUssSUFBSTtZQUNoQztZQUVBakIsUUFBUUMsR0FBRyxDQUFDLENBQUMsVUFBVSxFQUFFMkIsU0FBUzRELFVBQVUsRUFBRSxzQkFBc0IsQ0FBQztZQUVyRSxPQUFPNUYsa0ZBQVlBLENBQUM2RixJQUFJLENBQUM7Z0JBQ3ZCQyxTQUFTO2dCQUNUbEUsTUFBTUksV0FBVyxFQUFFO2dCQUNuQjBELE9BQU9BO2dCQUNQSyxZQUFZO29CQUNWckY7b0JBQ0FHO29CQUNBOEUsT0FBT3RFLFNBQVM7b0JBQ2hCMkUsWUFBWUMsS0FBS0MsSUFBSSxDQUFDLENBQUM3RSxTQUFTLEtBQUtSO2dCQUN2QztZQUNGO1FBRUYsRUFBRSxPQUFPc0YsU0FBUztZQUNoQi9GLFFBQVEwQixLQUFLLENBQUMsc0NBQTRCcUU7WUFFMUMsMkNBQTJDO1lBQzNDLE9BQU9uRyxrRkFBWUEsQ0FBQzZGLElBQUksQ0FBQztnQkFDdkJDLFNBQVM7Z0JBQ1RsRSxNQUFNLEVBQUU7Z0JBQ1JtRSxZQUFZO29CQUNWckYsTUFBTTtvQkFDTkcsT0FBTztvQkFDUDhFLE9BQU87b0JBQ1BLLFlBQVk7Z0JBQ2Q7WUFDRjtRQUNGO0lBRUYsRUFBRSxPQUFPbEUsT0FBTztRQUNkMUIsUUFBUTBCLEtBQUssQ0FBQyxtQ0FBeUJBO1FBQ3ZDLE9BQU85QixrRkFBWUEsQ0FBQzZGLElBQUksQ0FDdEI7WUFBRS9ELE9BQU87WUFBOEJzRSxTQUFTdEUsaUJBQWlCdUUsUUFBUXZFLE1BQU13RSxPQUFPLEdBQUc7UUFBZ0IsR0FDekc7WUFBRXZGLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRU8sZUFBZXdGLEtBQUtwRyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE1BQU1DLFdBQVdMLHdFQUFrQkE7UUFDbkMsTUFBTXVHLE9BQU8sTUFBTXJHLFFBQVEwRixJQUFJO1FBRS9CekYsUUFBUUMsR0FBRyxDQUFDLHFDQUEyQm1HO1FBRXZDLE1BQU12RixpQkFBaUIsdUNBQXVDLHVCQUF1Qjs7UUFDckYsTUFBTXdGLGNBQWMsdUNBQXVDLHFCQUFxQjs7UUFFaEYsZUFBZTtRQUNmLElBQUksQ0FBQ0QsS0FBS3BFLEtBQUssSUFBSSxDQUFDb0UsS0FBS2xFLG1CQUFtQixFQUFFO1lBQzVDLE9BQU90QyxrRkFBWUEsQ0FBQzZGLElBQUksQ0FDdEI7Z0JBQUUvRCxPQUFPO1lBQXFELEdBQzlEO2dCQUFFZixRQUFRO1lBQUk7UUFFbEI7UUFFQSx3Q0FBd0M7UUFDeEMsSUFBSSxDQUFDeUYsS0FBS25ELFdBQVcsSUFBSSxDQUFDbUQsS0FBS0UsMEJBQTBCLEVBQUU7WUFDekQsT0FBTzFHLGtGQUFZQSxDQUFDNkYsSUFBSSxDQUN0QjtnQkFBRS9ELE9BQU87WUFBbUYsR0FDNUY7Z0JBQUVmLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU00RixZQUFZO1lBQ2hCQyxpQkFBaUIzRjtZQUNqQm9DLGFBQWFtRCxLQUFLbkQsV0FBVyxJQUFJO1lBQ2pDVyxXQUFXd0MsS0FBS3hDLFNBQVMsSUFBSTtZQUM3QjZDLHdCQUF3QjtZQUN4QmhDLFlBQVk0QjtZQUNackUsT0FBT29FLEtBQUtwRSxLQUFLO1lBQ2pCQyxhQUFhbUUsS0FBS25FLFdBQVcsSUFBSTtZQUNqQ0MscUJBQXFCa0UsS0FBS2xFLG1CQUFtQjtZQUM3Q3ZCLFFBQVE7WUFDUnlCLFVBQVVnRSxLQUFLaEUsUUFBUSxJQUFJO1lBQzNCQyxnQkFBZ0IrRCxLQUFLL0QsY0FBYyxJQUFJO1lBQ3ZDSSxlQUFlLElBQUlpRSxPQUFPQyxXQUFXO1lBQ3JDaEUsZUFBZTtZQUNmQyxnQkFBZ0J3RCxLQUFLeEQsY0FBYyxJQUFJO1lBQ3ZDLDZCQUE2QjtZQUM3QjBELDRCQUE0QkYsS0FBS0UsMEJBQTBCLElBQUk7WUFDL0RNLDZCQUE2QlIsS0FBS1EsMkJBQTJCLElBQUk7WUFDakVDLDBCQUEwQlQsS0FBS1Msd0JBQXdCLElBQUk7UUFDN0Q7UUFFQTdHLFFBQVFDLEdBQUcsQ0FBQyx1Q0FBNkJzRztRQUV6QyxNQUFNLEVBQUUvRSxNQUFNc0YsTUFBTSxFQUFFcEYsS0FBSyxFQUFFLEdBQUcsTUFBTXhCLFNBQ25DYSxJQUFJLENBQUMsV0FDTGdHLE1BQU0sQ0FBQ1IsV0FDUHZGLE1BQU0sR0FDTmdHLE1BQU07UUFFVCxJQUFJdEYsT0FBTztZQUNUMUIsUUFBUTBCLEtBQUssQ0FBQyx1Q0FBNkJBO1lBQzNDMUIsUUFBUTBCLEtBQUssQ0FBQywrQkFBcUI7Z0JBQ2pDd0UsU0FBU3hFLE1BQU13RSxPQUFPO2dCQUN0QkYsU0FBU3RFLE1BQU1zRSxPQUFPO2dCQUN0QmlCLE1BQU12RixNQUFNdUYsSUFBSTtnQkFDaEJDLE1BQU14RixNQUFNd0YsSUFBSTtZQUNsQjtZQUNBLE9BQU90SCxrRkFBWUEsQ0FBQzZGLElBQUksQ0FDdEI7Z0JBQUUvRCxPQUFPO2dCQUFnQ3NFLFNBQVN0RSxNQUFNd0UsT0FBTztZQUFDLEdBQ2hFO2dCQUFFdkYsUUFBUTtZQUFJO1FBRWxCO1FBRUFYLFFBQVFDLEdBQUcsQ0FBQyxrQ0FBa0M2RyxPQUFPL0UsRUFBRTtRQUV2RCxPQUFPbkMsa0ZBQVlBLENBQUM2RixJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVGxFLE1BQU1zRjtRQUNSO0lBRUYsRUFBRSxPQUFPcEYsT0FBTztRQUNkMUIsUUFBUTBCLEtBQUssQ0FBQyxxQ0FBMkJBO1FBQ3pDLE9BQU85QixrRkFBWUEsQ0FBQzZGLElBQUksQ0FDdEI7WUFBRS9ELE9BQU87WUFBOEJzRSxTQUFTdEUsaUJBQWlCdUUsUUFBUXZFLE1BQU13RSxPQUFPLEdBQUc7UUFBZ0IsR0FDekc7WUFBRXZGLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGllbmRhZml4LXdlYi8uL2FwcC9hcGkvcmVwYWlycy9yb3V0ZS50cz85MzljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlL3NlcnZlcidcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5SnIFJlcGFpcnMgQVBJIGNhbGxlZCAtIGdldHRpbmcgcmVhbCBkYXRhJylcbiAgICBcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudCgpXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG4gICAgXG4gICAgLy8gUGFyw6FtZXRyb3MgZGUgY29uc3VsdGFcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZScpIHx8ICcxJylcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwJylcbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKSB8fCAnJ1xuICAgIGNvbnN0IHN0YXR1cyA9IHNlYXJjaFBhcmFtcy5nZXQoJ3N0YXR1cycpIHx8ICd0b2RvcydcbiAgICBcbiAgICBjb25zdCBvZmZzZXQgPSAocGFnZSAtIDEpICogbGltaXRcbiAgICBjb25zdCBvcmdhbml6YXRpb25JZCA9ICc4NzNkODE1NC04YjQwLTRiOGEtOGQwMy00MzFiZjlmNjk3ZTYnIC8vIElEIGZpam8gcGFyYSBwcnVlYmFzXG5cbiAgICB0cnkge1xuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3JlcGFpcnNfdmlldycpXG4gICAgICAgIC5zZWxlY3QoYCpgLCB7IGNvdW50OiAnZXhhY3QnIH0pXG4gICAgICAgIC5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXG4gICAgICAvLyBGaWx0cmFyIHBvciBlc3RhZG8gc2kgbm8gZXMgJ3RvZG9zJ1xuICAgICAgaWYgKHN0YXR1cyAhPT0gJ3RvZG9zJykge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdzdGF0dXMnLCBzdGF0dXMpXG4gICAgICB9XG5cbiAgICAgIC8vIEZpbHRyYXIgcG9yIGLDunNxdWVkYSBzaSBzZSBwcm9wb3JjaW9uYVxuICAgICAgaWYgKHNlYXJjaCkge1xuICAgICAgICBjb25zdCBzZWFyY2hDb25kaXRpb25zID0gW1xuICAgICAgICAgIGB0aXRsZS5pbGlrZS4lJHtzZWFyY2h9JWAsXG4gICAgICAgICAgYHByb2JsZW1fZGVzY3JpcHRpb24uaWxpa2UuJSR7c2VhcmNofSVgLFxuICAgICAgICAgIGBjdXN0b21lcl9uYW1lLmlsaWtlLiUke3NlYXJjaH0lYCxcbiAgICAgICAgICBgY3VzdG9tZXJfYW5vbnltb3VzX2lkZW50aWZpZXIuaWxpa2UuJSR7c2VhcmNofSVgLFxuICAgICAgICAgIGBkZXZpY2VfYnJhbmQuaWxpa2UuJSR7c2VhcmNofSVgLFxuICAgICAgICAgIGBkZXZpY2VfbW9kZWwuaWxpa2UuJSR7c2VhcmNofSVgLFxuICAgICAgICAgIGBkZXZpY2VfaW1laS5pbGlrZS4lJHtzZWFyY2h9JWBcbiAgICAgICAgXS5qb2luKCcsJylcbiAgICAgICAgXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkub3Ioc2VhcmNoQ29uZGl0aW9ucylcbiAgICAgIH1cblxuICAgICAgLy8gT2J0ZW5lciBkYXRvcyBjb24gcGFnaW5hY2nDs25cbiAgICAgIGNvbnN0IHsgZGF0YTogZmxhdFJlcGFpcnMsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnlcbiAgICAgICAgLnJhbmdlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQgLSAxKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign8J+aqCBFcnJvciBmZXRjaGluZyByZXBhaXJzOicsIGVycm9yKVxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXBhaXJzID0gZmxhdFJlcGFpcnMubWFwKHIgPT4gKHtcbiAgICAgICAgaWQ6IHIuaWQsXG4gICAgICAgIHRpdGxlOiByLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbjogci5kZXNjcmlwdGlvbixcbiAgICAgICAgcHJvYmxlbV9kZXNjcmlwdGlvbjogci5wcm9ibGVtX2Rlc2NyaXB0aW9uLFxuICAgICAgICBzb2x1dGlvbl9kZXNjcmlwdGlvbjogci5zb2x1dGlvbl9kZXNjcmlwdGlvbixcbiAgICAgICAgc3RhdHVzOiByLnN0YXR1cyxcbiAgICAgICAgcHJpb3JpdHk6IHIucHJpb3JpdHksXG4gICAgICAgIGVzdGltYXRlZF9jb3N0OiByLmVzdGltYXRlZF9jb3N0LFxuICAgICAgICBmaW5hbF9jb3N0OiByLmZpbmFsX2Nvc3QsXG4gICAgICAgIGVzdGltYXRlZF9jb21wbGV0aW9uX2RhdGU6IHIuZXN0aW1hdGVkX2NvbXBsZXRpb25fZGF0ZSxcbiAgICAgICAgYWN0dWFsX2NvbXBsZXRpb25fZGF0ZTogci5hY3R1YWxfY29tcGxldGlvbl9kYXRlLFxuICAgICAgICByZWNlaXZlZF9kYXRlOiByLnJlY2VpdmVkX2RhdGUsXG4gICAgICAgIGRlbGl2ZXJlZF9kYXRlOiByLmRlbGl2ZXJlZF9kYXRlLFxuICAgICAgICB3YXJyYW50eV9kYXlzOiByLndhcnJhbnR5X2RheXMsXG4gICAgICAgIGludGVybmFsX25vdGVzOiByLmludGVybmFsX25vdGVzLFxuICAgICAgICBjdXN0b21lcl9ub3Rlczogci5jdXN0b21lcl9ub3RlcyxcbiAgICAgICAgY3JlYXRlZF9hdDogci5jcmVhdGVkX2F0LFxuICAgICAgICB1cGRhdGVkX2F0OiByLnVwZGF0ZWRfYXQsXG4gICAgICAgIGN1c3RvbWVyczoge1xuICAgICAgICAgIGlkOiByLmN1c3RvbWVyX2lkLFxuICAgICAgICAgIG5hbWU6IHIuY3VzdG9tZXJfbmFtZSxcbiAgICAgICAgICBlbWFpbDogci5jdXN0b21lcl9lbWFpbCxcbiAgICAgICAgICBwaG9uZTogci5jdXN0b21lcl9waG9uZSxcbiAgICAgICAgICBhbm9ueW1vdXNfaWRlbnRpZmllcjogci5jdXN0b21lcl9hbm9ueW1vdXNfaWRlbnRpZmllcixcbiAgICAgICAgICBjdXN0b21lcl90eXBlOiByLmN1c3RvbWVyX3R5cGUsXG4gICAgICAgIH0sXG4gICAgICAgIGRldmljZXM6IHtcbiAgICAgICAgICBpZDogci5kZXZpY2VfaWQsXG4gICAgICAgICAgYnJhbmQ6IHIuZGV2aWNlX2JyYW5kLFxuICAgICAgICAgIG1vZGVsOiByLmRldmljZV9tb2RlbCxcbiAgICAgICAgICBkZXZpY2VfdHlwZTogci5kZXZpY2VfdHlwZSxcbiAgICAgICAgICBzZXJpYWxfbnVtYmVyOiByLmRldmljZV9zZXJpYWxfbnVtYmVyLFxuICAgICAgICAgIGltZWk6IHIuZGV2aWNlX2ltZWksXG4gICAgICAgICAgY29sb3I6IHIuZGV2aWNlX2NvbG9yLFxuICAgICAgICB9LFxuICAgICAgICB1c2Vyczoge1xuICAgICAgICAgIGlkOiByLmNyZWF0ZWRfYnksXG4gICAgICAgICAgbmFtZTogci5jcmVhdGVkX2J5X25hbWUsXG4gICAgICAgICAgZW1haWw6IHIuY3JlYXRlZF9ieV9lbWFpbCxcbiAgICAgICAgfVxuICAgICAgfSkpO1xuXG4gICAgICAvLyBPYnRlbmVyIGVzdGFkw61zdGljYXNcbiAgICAgIGNvbnN0IHN0YXR1c0NvdW50cyA9IFtcbiAgICAgICAgc3VwYWJhc2UuZnJvbSgncmVwYWlycycpLnNlbGVjdCgnaWQnLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pLmVxKCdvcmdhbml6YXRpb25faWQnLCBvcmdhbml6YXRpb25JZCkuZXEoJ3N0YXR1cycsICdyZWNlaXZlZCcpLFxuICAgICAgICBzdXBhYmFzZS5mcm9tKCdyZXBhaXJzJykuc2VsZWN0KCdpZCcsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSkuZXEoJ29yZ2FuaXphdGlvbl9pZCcsIG9yZ2FuaXphdGlvbklkKS5lcSgnc3RhdHVzJywgJ2RpYWdub3NlZCcpLFxuICAgICAgICBzdXBhYmFzZS5mcm9tKCdyZXBhaXJzJykuc2VsZWN0KCdpZCcsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSkuZXEoJ29yZ2FuaXphdGlvbl9pZCcsIG9yZ2FuaXphdGlvbklkKS5lcSgnc3RhdHVzJywgJ2luX3Byb2dyZXNzJyksXG4gICAgICAgIHN1cGFiYXNlLmZyb20oJ3JlcGFpcnMnKS5zZWxlY3QoJ2lkJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KS5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpLmVxKCdzdGF0dXMnLCAnY29tcGxldGVkJyksXG4gICAgICAgIHN1cGFiYXNlLmZyb20oJ3JlcGFpcnMnKS5zZWxlY3QoJ2lkJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KS5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpLmVxKCdzdGF0dXMnLCAnZGVsaXZlcmVkJyksXG4gICAgICAgIHN1cGFiYXNlLmZyb20oJ3JlcGFpcnMnKS5zZWxlY3QoJ2lkJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KS5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpLmVxKCdzdGF0dXMnLCAnY2FuY2VsbGVkJylcbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IFtcbiAgICAgICAgcmVjZWl2ZWQsXG4gICAgICAgIGRpYWdub3NlZCxcbiAgICAgICAgaW5Qcm9ncmVzcyxcbiAgICAgICAgY29tcGxldGVkLFxuICAgICAgICBkZWxpdmVyZWQsXG4gICAgICAgIGNhbmNlbGxlZFxuICAgICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKHN0YXR1c0NvdW50cyk7XG5cbiAgICAgIGNvbnN0IHN0YXRzID0ge1xuICAgICAgICB0b3RhbDogY291bnQgfHwgMCxcbiAgICAgICAgcmVjZWl2ZWQ6IHJlY2VpdmVkLmNvdW50IHx8IDAsXG4gICAgICAgIGRpYWdub3NlZDogZGlhZ25vc2VkLmNvdW50IHx8IDAsXG4gICAgICAgIGluUHJvZ3Jlc3M6IGluUHJvZ3Jlc3MuY291bnQgfHwgMCxcbiAgICAgICAgY29tcGxldGVkOiBjb21wbGV0ZWQuY291bnQgfHwgMCxcbiAgICAgICAgZGVsaXZlcmVkOiBkZWxpdmVyZWQuY291bnQgfHwgMCxcbiAgICAgICAgY2FuY2VsbGVkOiBjYW5jZWxsZWQuY291bnQgfHwgMFxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIEZldGNoZWQgJHtyZXBhaXJzPy5sZW5ndGggfHwgMH0gcmVwYWlycyBmcm9tIGRhdGFiYXNlYClcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogcmVwYWlycyB8fCBbXSxcbiAgICAgICAgc3RhdHM6IHN0YXRzLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICB0b3RhbDogY291bnQgfHwgMCxcbiAgICAgICAgICB0b3RhbFBhZ2VzOiBNYXRoLmNlaWwoKGNvdW50IHx8IDApIC8gbGltaXQpXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChkYkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5qoIERhdGFiYXNlIHF1ZXJ5IGVycm9yOicsIGRiRXJyb3IpXG4gICAgICBcbiAgICAgIC8vIERldm9sdmVyIGVzdHJ1Y3R1cmEgdmFjw61hIHNpIGZhbGxhIGxhIEJEXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgbGltaXQ6IDEwLFxuICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgIHRvdGFsUGFnZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfwn5qoIFJlcGFpcnMgQVBJIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn8J+UpyBDcmVhdGluZyBuZXcgcmVwYWlyLi4uJylcbiAgICBcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudCgpXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgXG4gICAgY29uc29sZS5sb2coJ/Cfk4sgUmVwYWlyIHJlcXVlc3QgYm9keTonLCBib2R5KVxuICAgIFxuICAgIGNvbnN0IG9yZ2FuaXphdGlvbklkID0gJzg3M2Q4MTU0LThiNDAtNGI4YS04ZDAzLTQzMWJmOWY2OTdlNicgLy8gSUQgZmlqbyBwYXJhIHBydWViYXNcbiAgICBjb25zdCBjcmVhdGVkQnlJZCA9ICdhMDY2NTRjMS1kMDc4LTQwNGQtYmZlYy03MmM4ODMwNzlhNDEnIC8vIEZlcm5hbmRvJ3MgdXNlciBJRFxuXG4gICAgLy8gVmFsaWRhY2lvbmVzXG4gICAgaWYgKCFib2R5LnRpdGxlIHx8ICFib2R5LnByb2JsZW1fZGVzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1TDrXR1bG8geSBkZXNjcmlwY2nDs24gZGVsIHByb2JsZW1hIHNvbiBvYmxpZ2F0b3Jpb3MnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIFZhbGlkYXIgc2kgZXMgY2xpZW50ZSByZWdpc3RyYWRvIG8gbm9cbiAgICBpZiAoIWJvZHkuY3VzdG9tZXJfaWQgJiYgIWJvZHkudW5yZWdpc3RlcmVkX2N1c3RvbWVyX25hbWUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0RlYmUgcHJvcG9yY2lvbmFyIHVuIGNsaWVudGUgcmVnaXN0cmFkbyBvIGxvcyBkYXRvcyBkZSB1biBjbGllbnRlIG5vIHJlZ2lzdHJhZG8uJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBuZXdSZXBhaXIgPSB7XG4gICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ2FuaXphdGlvbklkLFxuICAgICAgY3VzdG9tZXJfaWQ6IGJvZHkuY3VzdG9tZXJfaWQgfHwgbnVsbCxcbiAgICAgIGRldmljZV9pZDogYm9keS5kZXZpY2VfaWQgfHwgbnVsbCxcbiAgICAgIGFzc2lnbmVkX3RlY2huaWNpYW5faWQ6IG51bGwsXG4gICAgICBjcmVhdGVkX2J5OiBjcmVhdGVkQnlJZCxcbiAgICAgIHRpdGxlOiBib2R5LnRpdGxlLFxuICAgICAgZGVzY3JpcHRpb246IGJvZHkuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBwcm9ibGVtX2Rlc2NyaXB0aW9uOiBib2R5LnByb2JsZW1fZGVzY3JpcHRpb24sXG4gICAgICBzdGF0dXM6ICdyZWNlaXZlZCcsXG4gICAgICBwcmlvcml0eTogYm9keS5wcmlvcml0eSB8fCAnbWVkaXVtJyxcbiAgICAgIGVzdGltYXRlZF9jb3N0OiBib2R5LmVzdGltYXRlZF9jb3N0IHx8IDAsXG4gICAgICByZWNlaXZlZF9kYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB3YXJyYW50eV9kYXlzOiA5MCxcbiAgICAgIGludGVybmFsX25vdGVzOiBib2R5LmludGVybmFsX25vdGVzIHx8IG51bGwsXG4gICAgICAvLyBDYW1wb3MgcGFyYSBubyByZWdpc3RyYWRvc1xuICAgICAgdW5yZWdpc3RlcmVkX2N1c3RvbWVyX25hbWU6IGJvZHkudW5yZWdpc3RlcmVkX2N1c3RvbWVyX25hbWUgfHwgbnVsbCxcbiAgICAgIHVucmVnaXN0ZXJlZF9jdXN0b21lcl9waG9uZTogYm9keS51bnJlZ2lzdGVyZWRfY3VzdG9tZXJfcGhvbmUgfHwgbnVsbCxcbiAgICAgIHVucmVnaXN0ZXJlZF9kZXZpY2VfaW5mbzogYm9keS51bnJlZ2lzdGVyZWRfZGV2aWNlX2luZm8gfHwgbnVsbCxcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn8J+TnSBSZXBhaXIgZGF0YSB0byBpbnNlcnQ6JywgbmV3UmVwYWlyKVxuXG4gICAgY29uc3QgeyBkYXRhOiByZXBhaXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3JlcGFpcnMnKVxuICAgICAgLmluc2VydChuZXdSZXBhaXIpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5qoIEVycm9yIGNyZWF0aW5nIHJlcGFpcjonLCBlcnJvcilcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLmRldGFpbHMsXG4gICAgICAgIGhpbnQ6IGVycm9yLmhpbnQsXG4gICAgICAgIGNvZGU6IGVycm9yLmNvZGVcbiAgICAgIH0pXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdFcnJvciBhbCBjcmVhciBsYSByZXBhcmFjacOzbicsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ+KchSBSZXBhaXIgY3JlYXRlZCBzdWNjZXNzZnVsbHk6JywgcmVwYWlyLmlkKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiByZXBhaXJcbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign8J+aqCBDcmVhdGUgcmVwYWlyIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJHRVQiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsInN1cGFiYXNlIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGFnZSIsInBhcnNlSW50IiwiZ2V0IiwibGltaXQiLCJzZWFyY2giLCJzdGF0dXMiLCJvZmZzZXQiLCJvcmdhbml6YXRpb25JZCIsInF1ZXJ5IiwiZnJvbSIsInNlbGVjdCIsImNvdW50IiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsInNlYXJjaENvbmRpdGlvbnMiLCJqb2luIiwib3IiLCJkYXRhIiwiZmxhdFJlcGFpcnMiLCJlcnJvciIsInJhbmdlIiwicmVwYWlycyIsIm1hcCIsInIiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJwcm9ibGVtX2Rlc2NyaXB0aW9uIiwic29sdXRpb25fZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsImVzdGltYXRlZF9jb3N0IiwiZmluYWxfY29zdCIsImVzdGltYXRlZF9jb21wbGV0aW9uX2RhdGUiLCJhY3R1YWxfY29tcGxldGlvbl9kYXRlIiwicmVjZWl2ZWRfZGF0ZSIsImRlbGl2ZXJlZF9kYXRlIiwid2FycmFudHlfZGF5cyIsImludGVybmFsX25vdGVzIiwiY3VzdG9tZXJfbm90ZXMiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsImN1c3RvbWVycyIsImN1c3RvbWVyX2lkIiwibmFtZSIsImN1c3RvbWVyX25hbWUiLCJlbWFpbCIsImN1c3RvbWVyX2VtYWlsIiwicGhvbmUiLCJjdXN0b21lcl9waG9uZSIsImFub255bW91c19pZGVudGlmaWVyIiwiY3VzdG9tZXJfYW5vbnltb3VzX2lkZW50aWZpZXIiLCJjdXN0b21lcl90eXBlIiwiZGV2aWNlcyIsImRldmljZV9pZCIsImJyYW5kIiwiZGV2aWNlX2JyYW5kIiwibW9kZWwiLCJkZXZpY2VfbW9kZWwiLCJkZXZpY2VfdHlwZSIsInNlcmlhbF9udW1iZXIiLCJkZXZpY2Vfc2VyaWFsX251bWJlciIsImltZWkiLCJkZXZpY2VfaW1laSIsImNvbG9yIiwiZGV2aWNlX2NvbG9yIiwidXNlcnMiLCJjcmVhdGVkX2J5IiwiY3JlYXRlZF9ieV9uYW1lIiwiY3JlYXRlZF9ieV9lbWFpbCIsInN0YXR1c0NvdW50cyIsImhlYWQiLCJyZWNlaXZlZCIsImRpYWdub3NlZCIsImluUHJvZ3Jlc3MiLCJjb21wbGV0ZWQiLCJkZWxpdmVyZWQiLCJjYW5jZWxsZWQiLCJQcm9taXNlIiwiYWxsIiwic3RhdHMiLCJ0b3RhbCIsImxlbmd0aCIsImpzb24iLCJzdWNjZXNzIiwicGFnaW5hdGlvbiIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImRiRXJyb3IiLCJkZXRhaWxzIiwiRXJyb3IiLCJtZXNzYWdlIiwiUE9TVCIsImJvZHkiLCJjcmVhdGVkQnlJZCIsInVucmVnaXN0ZXJlZF9jdXN0b21lcl9uYW1lIiwibmV3UmVwYWlyIiwib3JnYW5pemF0aW9uX2lkIiwiYXNzaWduZWRfdGVjaG5pY2lhbl9pZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVucmVnaXN0ZXJlZF9jdXN0b21lcl9waG9uZSIsInVucmVnaXN0ZXJlZF9kZXZpY2VfaW5mbyIsInJlcGFpciIsImluc2VydCIsInNpbmdsZSIsImhpbnQiLCJjb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/repairs/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase/server.ts":
/*!********************************!*\
  !*** ./lib/supabase/server.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createServerClient: () => (/* binding */ createServerClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst createServerClient = ()=>{\n    const supabaseUrl = \"https://hdqhdijirmfmgtbhqpjq.supabase.co\";\n    const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (!supabaseUrl || !supabaseServiceKey) {\n        throw new Error(\"Missing Supabase environment variables\");\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EO0FBRTdDLE1BQU1DLHFCQUFxQjtJQUNoQyxNQUFNQyxjQUFjQywwQ0FBb0M7SUFDeEQsTUFBTUcscUJBQXFCSCxRQUFRQyxHQUFHLENBQUNHLHlCQUF5QjtJQUVoRSxJQUFJLENBQUNMLGVBQWUsQ0FBQ0ksb0JBQW9CO1FBQ3ZDLE1BQU0sSUFBSUUsTUFBTTtJQUNsQjtJQUVBLE9BQU9SLG1FQUFZQSxDQUFDRSxhQUFhSSxvQkFBb0I7UUFDbkRHLE1BQU07WUFDSkMsa0JBQWtCO1lBQ2xCQyxnQkFBZ0I7UUFDbEI7SUFDRjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aWVuZGFmaXgtd2ViLy4vbGliL3N1cGFiYXNlL3NlcnZlci50cz82NjI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTZXJ2ZXJDbGllbnQgPSAoKSA9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhXHJcbiAgY29uc3Qgc3VwYWJhc2VTZXJ2aWNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSFcclxuICBcclxuICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZVNlcnZpY2VLZXkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XHJcbiAgICBhdXRoOiB7XHJcbiAgICAgIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLFxyXG4gICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcclxuICAgIH1cclxuICB9KVxyXG59ICJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiRXJyb3IiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase/server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frepairs%2Froute&page=%2Fapi%2Frepairs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frepairs%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();