/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/devices/route";
exports.ids = ["app/api/devices/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdevices%2Froute&page=%2Fapi%2Fdevices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdevices%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdevices%2Froute&page=%2Fapi%2Fdevices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdevices%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Fernando_Desktop_TiendaFix_Web_app_api_devices_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/devices/route.ts */ \"(rsc)/./app/api/devices/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/devices/route\",\n        pathname: \"/api/devices\",\n        filename: \"route\",\n        bundlePath: \"app/api/devices/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Fernando\\\\Desktop\\\\TiendaFix-Web\\\\app\\\\api\\\\devices\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Fernando_Desktop_TiendaFix_Web_app_api_devices_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/devices/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkZXZpY2VzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZkZXZpY2VzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZGV2aWNlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNGZXJuYW5kbyU1Q0Rlc2t0b3AlNUNUaWVuZGFGaXgtV2ViJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNGZXJuYW5kbyU1Q0Rlc2t0b3AlNUNUaWVuZGFGaXgtV2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3dCO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGllbmRhZml4LXdlYi8/ZTdlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxGZXJuYW5kb1xcXFxEZXNrdG9wXFxcXFRpZW5kYUZpeC1XZWJcXFxcYXBwXFxcXGFwaVxcXFxkZXZpY2VzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kZXZpY2VzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZGV2aWNlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZGV2aWNlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXEZlcm5hbmRvXFxcXERlc2t0b3BcXFxcVGllbmRhRml4LVdlYlxcXFxhcHBcXFxcYXBpXFxcXGRldmljZXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZGV2aWNlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdevices%2Froute&page=%2Fapi%2Fdevices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdevices%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/devices/route.ts":
/*!**********************************!*\
  !*** ./app/api/devices/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/index.mjs\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/headers.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_2__);\n// Devices API\n\n\n\nasync function getAuthenticatedUser(supabase) {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) throw new Error(\"Unauthorized\");\n    const { data: userProfile, error } = await supabase.from(\"users\").select(\"id, organization_id\").eq(\"auth_user_id\", user.id).single();\n    if (error || !userProfile?.organization_id) {\n        throw new Error(\"Organization not found for user.\");\n    }\n    return {\n        user,\n        organizationId: userProfile.organization_id,\n        profileId: userProfile.id\n    };\n}\nasync function GET(request) {\n    try {\n        const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n        const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://hdqhdijirmfmgtbhqpjq.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcWhkaWppcm1mbWd0YmhxcGpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NzE2MzMsImV4cCI6MjA2NjM0NzYzM30.5uMXS_m808SWP__wHFTqEB1yiksTxvn3ZZcVBib_s34\", {\n            cookies: {\n                get (name) {\n                    return cookieStore.get(name)?.value;\n                },\n                set (name, value, options) {\n                    try {\n                        cookieStore.set({\n                            name,\n                            value,\n                            ...options\n                        });\n                    } catch (error) {\n                    // The `set` method was called from a Server Component.\n                    // This can be ignored if you have middleware refreshing\n                    // user sessions.\n                    }\n                },\n                remove (name, options) {\n                    try {\n                        cookieStore.set({\n                            name,\n                            value: \"\",\n                            ...options\n                        });\n                    } catch (error) {\n                    // The `delete` method was called from a Server Component.\n                    // This can be ignored if you have middleware refreshing\n                    // user sessions.\n                    }\n                }\n            }\n        });\n        const { profileId, organizationId } = await getAuthenticatedUser(supabase);\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"12\");\n        const search = searchParams.get(\"search\") || \"\";\n        const marca = searchParams.get(\"marca\") || \"todos\";\n        const offset = (page - 1) * limit;\n        let query = supabase.from(\"devices\").select(`\r\n        id, customer_id, brand, model, device_type, serial_number, imei, color,\r\n        storage_capacity, operating_system, notes, status,\r\n        created_at, updated_at,\r\n        customers(id, name, email, phone, anonymous_identifier, customer_type),\r\n        repairs(id, title, status, created_at)\r\n      `, {\n            count: \"exact\"\n        }).eq(\"organization_id\", organizationId).order(\"created_at\", {\n            ascending: false\n        });\n        if (marca !== \"todos\") {\n            query = query.ilike(\"brand\", `%${marca}%`);\n        }\n        if (search) {\n            const searchConditions = [\n                `brand.ilike.%${search}%`,\n                `model.ilike.%${search}%`,\n                `imei.ilike.%${search}%`,\n                `serial_number.ilike.%${search}%`,\n                `customers.name.ilike.%${search}%`\n            ].join(\",\");\n            query = query.or(searchConditions);\n        }\n        const { data: devices, error, count } = await query.range(offset, offset + limit - 1);\n        if (error) throw new Error(error.message);\n        const devicesWithStats = (devices || []).map((device)=>({\n                ...device,\n                totalReparaciones: device.repairs.length,\n                ultimaReparacion: device.repairs.length > 0 ? device.repairs[0].created_at : null\n            }));\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: devicesWithStats,\n            pagination: {\n                page,\n                limit,\n                total: count || 0,\n                totalPages: Math.ceil((count || 0) / limit)\n            }\n        });\n    } catch (error) {\n        console.error(\"Devices GET API error:\", error);\n        const status = error.message === \"Unauthorized\" ? 401 : 500;\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: error.message\n        }, {\n            status\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n        const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://hdqhdijirmfmgtbhqpjq.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcWhkaWppcm1mbWd0YmhxcGpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NzE2MzMsImV4cCI6MjA2NjM0NzYzM30.5uMXS_m808SWP__wHFTqEB1yiksTxvn3ZZcVBib_s34\", {\n            cookies: {\n                get (name) {\n                    return cookieStore.get(name)?.value;\n                },\n                set (name, value, options) {\n                    try {\n                        cookieStore.set({\n                            name,\n                            value,\n                            ...options\n                        });\n                    } catch (error) {\n                    // The `set` method was called from a Server Component.\n                    // This can be ignored if you have middleware refreshing\n                    // user sessions.\n                    }\n                },\n                remove (name, options) {\n                    try {\n                        cookieStore.set({\n                            name,\n                            value: \"\",\n                            ...options\n                        });\n                    } catch (error) {\n                    // The `delete` method was called from a Server Component.\n                    // This can be ignored if you have middleware refreshing\n                    // user sessions.\n                    }\n                }\n            }\n        });\n        const { profileId, organizationId } = await getAuthenticatedUser(supabase);\n        const body = await request.json();\n        if (!body.brand || !body.model || !body.customer_id) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Marca, modelo y cliente son obligatorios\"\n            }, {\n                status: 400\n            });\n        }\n        const newDevice = {\n            organization_id: organizationId,\n            customer_id: body.customer_id,\n            brand: body.brand,\n            model: body.model,\n            device_type: body.device_type || \"smartphone\",\n            serial_number: body.serial_number,\n            imei: body.imei,\n            color: body.color,\n            storage_capacity: body.storage_capacity,\n            operating_system: body.operating_system,\n            notes: body.notes,\n            created_by: profileId\n        };\n        const { data: device, error } = await supabase.from(\"devices\").insert(newDevice).select().single();\n        if (error) throw new Error(error.message);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: device\n        });\n    } catch (error) {\n        console.error(\"Create device error:\", error);\n        const status = error.message === \"Unauthorized\" ? 401 : 500;\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error al crear el dispositivo\"\n        }, {\n            status\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS0UsS0FBSztZQUNqQkcsYUFBYUwsS0FBS0ssV0FBVyxJQUFJO1lBQ2pDQyxlQUFlTixLQUFLTSxhQUFhO1lBQ2pDQyxNQUFNUCxLQUFLTyxJQUFJO1lBQ2ZDLE9BQU9SLEtBQUtRLEtBQUs7WUFDakJDLGtCQUFrQlQsS0FBS1MsZ0JBQWdCO1lBQ3ZDQyxrQkFBa0JWLEtBQUtVLGdCQUFnQjtZQUN2Q0MsT0FBT1gsS0FBS1csS0FBSztZQUNqQkMsWUFBWWhFO1FBQ2Q7UUFFQSxNQUFNLEVBQUVkLE1BQU1rRCxNQUFNLEVBQUU1QyxLQUFLLEVBQUUsR0FBRyxNQUFNUCxTQUNuQ1EsSUFBSSxDQUFDLFdBQ0x3RSxNQUFNLENBQUNULFdBQ1A5RCxNQUFNLEdBQ05HLE1BQU07UUFFVCxJQUFJTCxPQUFPLE1BQU0sSUFBSUYsTUFBTUUsTUFBTXlDLE9BQU87UUFFeEMsT0FBT3BELGtGQUFZQSxDQUFDNkQsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBTXpELE1BQU1rRDtRQUFPO0lBQ3pELEVBQUUsT0FBTzVDLE9BQVk7UUFDbkJ5RCxRQUFRekQsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsTUFBTTBELFNBQVMxRCxNQUFNeUMsT0FBTyxLQUFLLGlCQUFpQixNQUFNO1FBQ3hELE9BQU9wRCxrRkFBWUEsQ0FBQzZELElBQUksQ0FBQztZQUFFbEQsT0FBTztRQUFnQyxHQUFHO1lBQUUwRDtRQUFPO0lBQ2hGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aWVuZGFmaXgtd2ViLy4vYXBwL2FwaS9kZXZpY2VzL3JvdXRlLnRzP2NlYjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRGV2aWNlcyBBUElcclxuXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3NzcidcclxuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEF1dGhlbnRpY2F0ZWRVc2VyKHN1cGFiYXNlOiBhbnkpIHtcclxuICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxyXG4gIGlmICghdXNlcikgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKVxyXG5cclxuICBjb25zdCB7IGRhdGE6IHVzZXJQcm9maWxlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAuc2VsZWN0KCdpZCwgb3JnYW5pemF0aW9uX2lkJylcclxuICAgIC5lcSgnYXV0aF91c2VyX2lkJywgdXNlci5pZClcclxuICAgIC5zaW5nbGUoKVxyXG4gIFxyXG4gIGlmIChlcnJvciB8fCAhdXNlclByb2ZpbGU/Lm9yZ2FuaXphdGlvbl9pZCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdPcmdhbml6YXRpb24gbm90IGZvdW5kIGZvciB1c2VyLicpXHJcbiAgfVxyXG5cclxuICByZXR1cm4geyB1c2VyLCBvcmdhbml6YXRpb25JZDogdXNlclByb2ZpbGUub3JnYW5pemF0aW9uX2lkLCBwcm9maWxlSWQ6IHVzZXJQcm9maWxlLmlkIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKVxyXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoXHJcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXHJcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgICAge1xyXG4gICAgICAgIGNvb2tpZXM6IHtcclxuICAgICAgICAgIGdldChuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvb2tpZVN0b3JlLmdldChuYW1lKT8udmFsdWVcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBvcHRpb25zOiBhbnkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb29raWVTdG9yZS5zZXQoeyBuYW1lLCB2YWx1ZSwgLi4ub3B0aW9ucyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgIC8vIFRoZSBgc2V0YCBtZXRob2Qgd2FzIGNhbGxlZCBmcm9tIGEgU2VydmVyIENvbXBvbmVudC5cclxuICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xyXG4gICAgICAgICAgICAgIC8vIHVzZXIgc2Vzc2lvbnMuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZW1vdmUobmFtZTogc3RyaW5nLCBvcHRpb25zOiBhbnkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb29raWVTdG9yZS5zZXQoeyBuYW1lLCB2YWx1ZTogJycsIC4uLm9wdGlvbnMgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAvLyBUaGUgYGRlbGV0ZWAgbWV0aG9kIHdhcyBjYWxsZWQgZnJvbSBhIFNlcnZlciBDb21wb25lbnQuXHJcbiAgICAgICAgICAgICAgLy8gVGhpcyBjYW4gYmUgaWdub3JlZCBpZiB5b3UgaGF2ZSBtaWRkbGV3YXJlIHJlZnJlc2hpbmdcclxuICAgICAgICAgICAgICAvLyB1c2VyIHNlc3Npb25zLlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICBjb25zdCB7IHByb2ZpbGVJZCwgb3JnYW5pemF0aW9uSWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyKHN1cGFiYXNlKVxyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXHJcbiAgICBcclxuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJykgfHwgJzEnKVxyXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICcxMicpXHJcbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKSB8fCAnJ1xyXG4gICAgY29uc3QgbWFyY2EgPSBzZWFyY2hQYXJhbXMuZ2V0KCdtYXJjYScpIHx8ICd0b2RvcydcclxuICAgIFxyXG4gICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0XHJcblxyXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2RldmljZXMnKVxyXG4gICAgICAuc2VsZWN0KGBcclxuICAgICAgICBpZCwgY3VzdG9tZXJfaWQsIGJyYW5kLCBtb2RlbCwgZGV2aWNlX3R5cGUsIHNlcmlhbF9udW1iZXIsIGltZWksIGNvbG9yLFxyXG4gICAgICAgIHN0b3JhZ2VfY2FwYWNpdHksIG9wZXJhdGluZ19zeXN0ZW0sIG5vdGVzLCBzdGF0dXMsXHJcbiAgICAgICAgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCxcclxuICAgICAgICBjdXN0b21lcnMoaWQsIG5hbWUsIGVtYWlsLCBwaG9uZSwgYW5vbnltb3VzX2lkZW50aWZpZXIsIGN1c3RvbWVyX3R5cGUpLFxyXG4gICAgICAgIHJlcGFpcnMoaWQsIHRpdGxlLCBzdGF0dXMsIGNyZWF0ZWRfYXQpXHJcbiAgICAgIGAsIHsgY291bnQ6ICdleGFjdCcgfSlcclxuICAgICAgLmVxKCdvcmdhbml6YXRpb25faWQnLCBvcmdhbml6YXRpb25JZClcclxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcblxyXG4gICAgaWYgKG1hcmNhICE9PSAndG9kb3MnKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuaWxpa2UoJ2JyYW5kJywgYCUke21hcmNhfSVgKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWFyY2gpIHtcclxuICAgICAgY29uc3Qgc2VhcmNoQ29uZGl0aW9ucyA9IFtcclxuICAgICAgICBgYnJhbmQuaWxpa2UuJSR7c2VhcmNofSVgLFxyXG4gICAgICAgIGBtb2RlbC5pbGlrZS4lJHtzZWFyY2h9JWAsXHJcbiAgICAgICAgYGltZWkuaWxpa2UuJSR7c2VhcmNofSVgLFxyXG4gICAgICAgIGBzZXJpYWxfbnVtYmVyLmlsaWtlLiUke3NlYXJjaH0lYCxcclxuICAgICAgICBgY3VzdG9tZXJzLm5hbWUuaWxpa2UuJSR7c2VhcmNofSVgXHJcbiAgICAgIF0uam9pbignLCcpXHJcbiAgICAgIFxyXG4gICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKHNlYXJjaENvbmRpdGlvbnMpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiBkZXZpY2VzLCBlcnJvciwgY291bnQgfSA9IGF3YWl0IHF1ZXJ5XHJcbiAgICAgIC5yYW5nZShvZmZzZXQsIG9mZnNldCArIGxpbWl0IC0gMSlcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKVxyXG5cclxuICAgIGNvbnN0IGRldmljZXNXaXRoU3RhdHMgPSAoZGV2aWNlcyB8fCBbXSkubWFwKGRldmljZSA9PiAoe1xyXG4gICAgICAuLi5kZXZpY2UsXHJcbiAgICAgIHRvdGFsUmVwYXJhY2lvbmVzOiBkZXZpY2UucmVwYWlycy5sZW5ndGgsXHJcbiAgICAgIHVsdGltYVJlcGFyYWNpb246IGRldmljZS5yZXBhaXJzLmxlbmd0aCA+IDAgPyBkZXZpY2UucmVwYWlyc1swXS5jcmVhdGVkX2F0IDogbnVsbCxcclxuICAgIH0pKVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IGRldmljZXNXaXRoU3RhdHMsXHJcbiAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBwYWdlLFxyXG4gICAgICAgIGxpbWl0LFxyXG4gICAgICAgIHRvdGFsOiBjb3VudCB8fCAwLFxyXG4gICAgICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbCgoY291bnQgfHwgMCkgLyBsaW1pdClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdEZXZpY2VzIEdFVCBBUEkgZXJyb3I6JywgZXJyb3IpXHJcbiAgICBjb25zdCBzdGF0dXMgPSBlcnJvci5tZXNzYWdlID09PSAnVW5hdXRob3JpemVkJyA/IDQwMSA6IDUwMFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXMgfSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpXHJcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudChcclxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxyXG4gICAgICB7XHJcbiAgICAgICAgY29va2llczoge1xyXG4gICAgICAgICAgZ2V0KG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0KG5hbWUpPy52YWx1ZVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlLCAuLi5vcHRpb25zIH0pXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgLy8gVGhlIGBzZXRgIG1ldGhvZCB3YXMgY2FsbGVkIGZyb20gYSBTZXJ2ZXIgQ29tcG9uZW50LlxyXG4gICAgICAgICAgICAgIC8vIFRoaXMgY2FuIGJlIGlnbm9yZWQgaWYgeW91IGhhdmUgbWlkZGxld2FyZSByZWZyZXNoaW5nXHJcbiAgICAgICAgICAgICAgLy8gdXNlciBzZXNzaW9ucy5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlbW92ZShuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlOiAnJywgLi4ub3B0aW9ucyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgIC8vIFRoZSBgZGVsZXRlYCBtZXRob2Qgd2FzIGNhbGxlZCBmcm9tIGEgU2VydmVyIENvbXBvbmVudC5cclxuICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xyXG4gICAgICAgICAgICAgIC8vIHVzZXIgc2Vzc2lvbnMuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIGNvbnN0IHsgcHJvZmlsZUlkLCBvcmdhbml6YXRpb25JZCB9ID0gYXdhaXQgZ2V0QXV0aGVudGljYXRlZFVzZXIoc3VwYWJhc2UpXHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcclxuICAgIFxyXG4gICAgaWYgKCFib2R5LmJyYW5kIHx8ICFib2R5Lm1vZGVsIHx8ICFib2R5LmN1c3RvbWVyX2lkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWFyY2EsIG1vZGVsbyB5IGNsaWVudGUgc29uIG9ibGlnYXRvcmlvcycgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5ld0RldmljZSA9IHtcclxuICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb25JZCxcclxuICAgICAgY3VzdG9tZXJfaWQ6IGJvZHkuY3VzdG9tZXJfaWQsXHJcbiAgICAgIGJyYW5kOiBib2R5LmJyYW5kLFxyXG4gICAgICBtb2RlbDogYm9keS5tb2RlbCxcclxuICAgICAgZGV2aWNlX3R5cGU6IGJvZHkuZGV2aWNlX3R5cGUgfHwgJ3NtYXJ0cGhvbmUnLFxyXG4gICAgICBzZXJpYWxfbnVtYmVyOiBib2R5LnNlcmlhbF9udW1iZXIsXHJcbiAgICAgIGltZWk6IGJvZHkuaW1laSxcclxuICAgICAgY29sb3I6IGJvZHkuY29sb3IsXHJcbiAgICAgIHN0b3JhZ2VfY2FwYWNpdHk6IGJvZHkuc3RvcmFnZV9jYXBhY2l0eSxcclxuICAgICAgb3BlcmF0aW5nX3N5c3RlbTogYm9keS5vcGVyYXRpbmdfc3lzdGVtLFxyXG4gICAgICBub3RlczogYm9keS5ub3RlcyxcclxuICAgICAgY3JlYXRlZF9ieTogcHJvZmlsZUlkXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiBkZXZpY2UsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnZGV2aWNlcycpXHJcbiAgICAgIC5pbnNlcnQobmV3RGV2aWNlKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSlcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBkZXZpY2UgfSlcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgZGV2aWNlIGVycm9yOicsIGVycm9yKVxyXG4gICAgY29uc3Qgc3RhdHVzID0gZXJyb3IubWVzc2FnZSA9PT0gJ1VuYXV0aG9yaXplZCcgPyA0MDEgOiA1MDBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRXJyb3IgYWwgY3JlYXIgZWwgZGlzcG9zaXRpdm8nIH0sIHsgc3RhdHVzIH0pXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJjb29raWVzIiwiZ2V0QXV0aGVudGljYXRlZFVzZXIiLCJzdXBhYmFzZSIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJFcnJvciIsInVzZXJQcm9maWxlIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJpZCIsInNpbmdsZSIsIm9yZ2FuaXphdGlvbl9pZCIsIm9yZ2FuaXphdGlvbklkIiwicHJvZmlsZUlkIiwiR0VUIiwicmVxdWVzdCIsImNvb2tpZVN0b3JlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZ2V0IiwibmFtZSIsInZhbHVlIiwic2V0Iiwib3B0aW9ucyIsInJlbW92ZSIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInBhZ2UiLCJwYXJzZUludCIsImxpbWl0Iiwic2VhcmNoIiwibWFyY2EiLCJvZmZzZXQiLCJxdWVyeSIsImNvdW50Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJpbGlrZSIsInNlYXJjaENvbmRpdGlvbnMiLCJqb2luIiwib3IiLCJkZXZpY2VzIiwicmFuZ2UiLCJtZXNzYWdlIiwiZGV2aWNlc1dpdGhTdGF0cyIsIm1hcCIsImRldmljZSIsInRvdGFsUmVwYXJhY2lvbmVzIiwicmVwYWlycyIsImxlbmd0aCIsInVsdGltYVJlcGFyYWNpb24iLCJjcmVhdGVkX2F0IiwianNvbiIsInN1Y2Nlc3MiLCJwYWdpbmF0aW9uIiwidG90YWwiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJjb25zb2xlIiwic3RhdHVzIiwiUE9TVCIsImJvZHkiLCJicmFuZCIsIm1vZGVsIiwiY3VzdG9tZXJfaWQiLCJuZXdEZXZpY2UiLCJkZXZpY2VfdHlwZSIsInNlcmlhbF9udW1iZXIiLCJpbWVpIiwiY29sb3IiLCJzdG9yYWdlX2NhcGFjaXR5Iiwib3BlcmF0aW5nX3N5c3RlbSIsIm5vdGVzIiwiY3JlYXRlZF9ieSIsImluc2VydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/devices/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows","vendor-chunks/ramda","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdevices%2Froute&page=%2Fapi%2Fdevices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdevices%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();