/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/customers/route";
exports.ids = ["app/api/customers/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcustomers%2Froute&page=%2Fapi%2Fcustomers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcustomers%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcustomers%2Froute&page=%2Fapi%2Fcustomers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcustomers%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Fernando_Desktop_TiendaFix_Web_app_api_customers_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/customers/route.ts */ \"(rsc)/./app/api/customers/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/customers/route\",\n        pathname: \"/api/customers\",\n        filename: \"route\",\n        bundlePath: \"app/api/customers/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Fernando\\\\Desktop\\\\TiendaFix-Web\\\\app\\\\api\\\\customers\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Fernando_Desktop_TiendaFix_Web_app_api_customers_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/customers/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjdXN0b21lcnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmN1c3RvbWVycyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmN1c3RvbWVycyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNGZXJuYW5kbyU1Q0Rlc2t0b3AlNUNUaWVuZGFGaXgtV2ViJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNGZXJuYW5kbyU1Q0Rlc2t0b3AlNUNUaWVuZGFGaXgtV2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzBCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGllbmRhZml4LXdlYi8/YjdkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxGZXJuYW5kb1xcXFxEZXNrdG9wXFxcXFRpZW5kYUZpeC1XZWJcXFxcYXBwXFxcXGFwaVxcXFxjdXN0b21lcnNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2N1c3RvbWVycy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2N1c3RvbWVyc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY3VzdG9tZXJzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcRmVybmFuZG9cXFxcRGVza3RvcFxcXFxUaWVuZGFGaXgtV2ViXFxcXGFwcFxcXFxhcGlcXFxcY3VzdG9tZXJzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2N1c3RvbWVycy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcustomers%2Froute&page=%2Fapi%2Fcustomers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcustomers%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/customers/route.ts":
/*!************************************!*\
  !*** ./app/api/customers/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./lib/supabase/server.ts\");\n\n\nasync function GET(request) {\n    try {\n        console.log(\"\\uD83D\\uDD27 Customers API called - getting real data\");\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createServerClient)();\n        const { searchParams } = new URL(request.url);\n        // Parámetros de consulta\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"12\");\n        const search = searchParams.get(\"search\") || \"\";\n        const type = searchParams.get(\"type\") || \"todos\";\n        const offset = (page - 1) * limit;\n        // UUID válido de Fernando (organización real)\n        const organizationId = \"873d8154-8b40-4b8a-8d03-431bf9f697e6\";\n        try {\n            let query = supabase.from(\"customers\").select(`\n          id, name, email, phone, address, customer_type,\n          anonymous_identifier, is_recurrent, notes,\n          created_at, updated_at\n        `).eq(\"organization_id\", organizationId).order(\"created_at\", {\n                ascending: false\n            });\n            // Filtrar por tipo si no es 'todos'\n            if (type !== \"todos\") {\n                query = query.eq(\"customer_type\", type);\n            }\n            // Filtrar por búsqueda si se proporciona\n            if (search) {\n                const searchConditions = [\n                    `name.ilike.%${search}%`,\n                    `email.ilike.%${search}%`,\n                    `phone.ilike.%${search}%`,\n                    `anonymous_identifier.ilike.%${search}%`\n                ].join(\",\");\n                query = query.or(searchConditions);\n            }\n            // Obtener datos con paginación\n            const { data: customers, error, count } = await query.range(offset, offset + limit - 1);\n            if (error) {\n                console.error(\"\\uD83D\\uDEA8 Error fetching customers:\", error);\n                throw error;\n            }\n            // Obtener estadísticas de reparaciones para cada cliente\n            const customersWithStats = await Promise.all((customers || []).map(async (customer)=>{\n                const { data: repairs, error: repairsError } = await supabase.from(\"repairs\").select(\"id, status, final_cost, estimated_cost\").eq(\"customer_id\", customer.id).eq(\"organization_id\", organizationId);\n                if (repairsError) {\n                    console.warn(`Error fetching repairs for customer ${customer.id}:`, repairsError);\n                }\n                const repairsList = repairs || [];\n                const totalSpent = repairsList.filter((r)=>r.final_cost).reduce((sum, r)=>sum + (r.final_cost || 0), 0);\n                return {\n                    ...customer,\n                    stats: {\n                        totalReparaciones: repairsList.length,\n                        pendientes: repairsList.filter((r)=>r.status === \"received\").length,\n                        completadas: repairsList.filter((r)=>r.status === \"completed\").length,\n                        entregadas: repairsList.filter((r)=>r.status === \"delivered\").length,\n                        totalGastado: totalSpent\n                    }\n                };\n            }));\n            console.log(`✅ Fetched ${customers?.length || 0} customers from database`);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                data: customersWithStats,\n                pagination: {\n                    page,\n                    limit,\n                    total: count || 0,\n                    totalPages: Math.ceil((count || 0) / limit)\n                }\n            });\n        } catch (dbError) {\n            console.error(\"\\uD83D\\uDEA8 Database query error:\", dbError);\n            // Devolver estructura vacía si falla la BD\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: true,\n                data: [],\n                pagination: {\n                    page: 1,\n                    limit: 12,\n                    total: 0,\n                    totalPages: 0\n                }\n            });\n        }\n    } catch (error) {\n        console.error(\"\\uD83D\\uDEA8 Customers API error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error interno del servidor\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        console.log(\"\\uD83D\\uDD27 Creating new customer...\");\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createServerClient)();\n        const body = await request.json();\n        // UUID válido de Fernando (organización real)\n        const organizationId = \"873d8154-8b40-4b8a-8d03-431bf9f697e6\";\n        // Validar tipo de cliente\n        if (![\n            \"identified\",\n            \"anonymous\"\n        ].includes(body.customer_type)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Tipo de cliente inv\\xe1lido\"\n            }, {\n                status: 400\n            });\n        }\n        const newCustomer = {\n            organization_id: organizationId,\n            customer_type: body.customer_type,\n            name: body.name || null,\n            email: body.email || null,\n            phone: body.phone || null,\n            address: body.address || null,\n            anonymous_identifier: body.anonymous_identifier || null,\n            is_recurrent: body.is_recurrent || false,\n            notes: body.notes || null\n        };\n        // Validaciones específicas por tipo\n        if (body.customer_type === \"identified\") {\n            if (!body.name || !body.phone) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Nombre y tel\\xe9fono son obligatorios para clientes identificados\"\n                }, {\n                    status: 400\n                });\n            }\n        } else if (body.customer_type === \"anonymous\") {\n            if (!body.anonymous_identifier) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Identificador an\\xf3nimo es obligatorio para clientes an\\xf3nimos\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        const { data: customer, error } = await supabase.from(\"customers\").insert(newCustomer).select().single();\n        if (error) {\n            console.error(\"\\uD83D\\uDEA8 Error creating customer:\", error);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Error al crear el cliente\",\n                details: error.message\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"✅ Customer created successfully:\", customer.id);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: customer\n        });\n    } catch (error) {\n        console.error(\"\\uD83D\\uDEA8 Create customer error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error interno del servidor\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixTQUNyQ2EsSUFBSSxDQUFDLGFBQ0w2RCxNQUFNLENBQUNULGFBQ1BuRCxNQUFNLEdBQ042RCxNQUFNO1FBRVQsSUFBSXBELE9BQU87WUFDVHpCLFFBQVF5QixLQUFLLENBQUMseUNBQStCQTtZQUM3QyxPQUFPN0Isa0ZBQVlBLENBQUN3RCxJQUFJLENBQ3RCO2dCQUFFM0IsT0FBTztnQkFBNkJtQyxTQUFTbkMsTUFBTXFDLE9BQU87WUFBQyxHQUM3RDtnQkFBRWQsUUFBUTtZQUFJO1FBRWxCO1FBRUFoRCxRQUFRQyxHQUFHLENBQUMsb0NBQW9DK0IsU0FBU0csRUFBRTtRQUUzRCxPQUFPdkMsa0ZBQVlBLENBQUN3RCxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVDlCLE1BQU1TO1FBQ1I7SUFFRixFQUFFLE9BQU9QLE9BQU87UUFDZHpCLFFBQVF5QixLQUFLLENBQUMsdUNBQTZCQTtRQUMzQyxPQUFPN0Isa0ZBQVlBLENBQUN3RCxJQUFJLENBQ3RCO1lBQUUzQixPQUFPO1lBQThCbUMsU0FBU25DLGlCQUFpQm9DLFFBQVFwQyxNQUFNcUMsT0FBTyxHQUFHO1FBQWdCLEdBQ3pHO1lBQUVkLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGllbmRhZml4LXdlYi8uL2FwcC9hcGkvY3VzdG9tZXJzL3JvdXRlLnRzPzY5YzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CflKcgQ3VzdG9tZXJzIEFQSSBjYWxsZWQgLSBnZXR0aW5nIHJlYWwgZGF0YScpXG4gICAgXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoKVxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIFxuICAgIC8vIFBhcsOhbWV0cm9zIGRlIGNvbnN1bHRhXG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKSB8fCAnMScpXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICcxMicpXG4gICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUGFyYW1zLmdldCgnc2VhcmNoJykgfHwgJydcbiAgICBjb25zdCB0eXBlID0gc2VhcmNoUGFyYW1zLmdldCgndHlwZScpIHx8ICd0b2RvcydcbiAgICBcbiAgICBjb25zdCBvZmZzZXQgPSAocGFnZSAtIDEpICogbGltaXRcbiAgICBcbiAgICAvLyBVVUlEIHbDoWxpZG8gZGUgRmVybmFuZG8gKG9yZ2FuaXphY2nDs24gcmVhbClcbiAgICBjb25zdCBvcmdhbml6YXRpb25JZCA9ICc4NzNkODE1NC04YjQwLTRiOGEtOGQwMy00MzFiZjlmNjk3ZTYnXG5cbiAgICB0cnkge1xuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2N1c3RvbWVycycpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgIGlkLCBuYW1lLCBlbWFpbCwgcGhvbmUsIGFkZHJlc3MsIGN1c3RvbWVyX3R5cGUsXG4gICAgICAgICAgYW5vbnltb3VzX2lkZW50aWZpZXIsIGlzX3JlY3VycmVudCwgbm90ZXMsXG4gICAgICAgICAgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdFxuICAgICAgICBgKVxuICAgICAgICAuZXEoJ29yZ2FuaXphdGlvbl9pZCcsIG9yZ2FuaXphdGlvbklkKVxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcblxuICAgICAgLy8gRmlsdHJhciBwb3IgdGlwbyBzaSBubyBlcyAndG9kb3MnXG4gICAgICBpZiAodHlwZSAhPT0gJ3RvZG9zJykge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjdXN0b21lcl90eXBlJywgdHlwZSlcbiAgICAgIH1cblxuICAgICAgLy8gRmlsdHJhciBwb3IgYsO6c3F1ZWRhIHNpIHNlIHByb3BvcmNpb25hXG4gICAgICBpZiAoc2VhcmNoKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaENvbmRpdGlvbnMgPSBbXG4gICAgICAgICAgYG5hbWUuaWxpa2UuJSR7c2VhcmNofSVgLFxuICAgICAgICAgIGBlbWFpbC5pbGlrZS4lJHtzZWFyY2h9JWAsXG4gICAgICAgICAgYHBob25lLmlsaWtlLiUke3NlYXJjaH0lYCxcbiAgICAgICAgICBgYW5vbnltb3VzX2lkZW50aWZpZXIuaWxpa2UuJSR7c2VhcmNofSVgXG4gICAgICAgIF0uam9pbignLCcpXG5cbiAgICAgICAgcXVlcnkgPSBxdWVyeS5vcihzZWFyY2hDb25kaXRpb25zKVxuICAgICAgfVxuXG4gICAgICAvLyBPYnRlbmVyIGRhdG9zIGNvbiBwYWdpbmFjacOzblxuICAgICAgY29uc3QgeyBkYXRhOiBjdXN0b21lcnMsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnlcbiAgICAgICAgLnJhbmdlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQgLSAxKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign8J+aqCBFcnJvciBmZXRjaGluZyBjdXN0b21lcnM6JywgZXJyb3IpXG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG5cbiAgICAgIC8vIE9idGVuZXIgZXN0YWTDrXN0aWNhcyBkZSByZXBhcmFjaW9uZXMgcGFyYSBjYWRhIGNsaWVudGVcbiAgICAgIGNvbnN0IGN1c3RvbWVyc1dpdGhTdGF0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAoY3VzdG9tZXJzIHx8IFtdKS5tYXAoYXN5bmMgKGN1c3RvbWVyKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBkYXRhOiByZXBhaXJzLCBlcnJvcjogcmVwYWlyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3JlcGFpcnMnKVxuICAgICAgICAgICAgLnNlbGVjdCgnaWQsIHN0YXR1cywgZmluYWxfY29zdCwgZXN0aW1hdGVkX2Nvc3QnKVxuICAgICAgICAgICAgLmVxKCdjdXN0b21lcl9pZCcsIGN1c3RvbWVyLmlkKVxuICAgICAgICAgICAgLmVxKCdvcmdhbml6YXRpb25faWQnLCBvcmdhbml6YXRpb25JZClcblxuICAgICAgICAgIGlmIChyZXBhaXJzRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRXJyb3IgZmV0Y2hpbmcgcmVwYWlycyBmb3IgY3VzdG9tZXIgJHtjdXN0b21lci5pZH06YCwgcmVwYWlyc0Vycm9yKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHJlcGFpcnNMaXN0ID0gcmVwYWlycyB8fCBbXVxuICAgICAgICAgIGNvbnN0IHRvdGFsU3BlbnQgPSByZXBhaXJzTGlzdFxuICAgICAgICAgICAgLmZpbHRlcihyID0+IHIuZmluYWxfY29zdClcbiAgICAgICAgICAgIC5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgKHIuZmluYWxfY29zdCB8fCAwKSwgMClcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jdXN0b21lcixcbiAgICAgICAgICAgIHN0YXRzOiB7XG4gICAgICAgICAgICAgIHRvdGFsUmVwYXJhY2lvbmVzOiByZXBhaXJzTGlzdC5sZW5ndGgsXG4gICAgICAgICAgICAgIHBlbmRpZW50ZXM6IHJlcGFpcnNMaXN0LmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAncmVjZWl2ZWQnKS5sZW5ndGgsXG4gICAgICAgICAgICAgIGNvbXBsZXRhZGFzOiByZXBhaXJzTGlzdC5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpLmxlbmd0aCxcbiAgICAgICAgICAgICAgZW50cmVnYWRhczogcmVwYWlyc0xpc3QuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdkZWxpdmVyZWQnKS5sZW5ndGgsXG4gICAgICAgICAgICAgIHRvdGFsR2FzdGFkbzogdG90YWxTcGVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgY29uc29sZS5sb2coYOKchSBGZXRjaGVkICR7Y3VzdG9tZXJzPy5sZW5ndGggfHwgMH0gY3VzdG9tZXJzIGZyb20gZGF0YWJhc2VgKVxuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBjdXN0b21lcnNXaXRoU3RhdHMsXG4gICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgIHRvdGFsOiBjb3VudCB8fCAwLFxuICAgICAgICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbCgoY291bnQgfHwgMCkgLyBsaW1pdClcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGRiRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggRGF0YWJhc2UgcXVlcnkgZXJyb3I6JywgZGJFcnJvcilcbiAgICAgIFxuICAgICAgLy8gRGV2b2x2ZXIgZXN0cnVjdHVyYSB2YWPDrWEgc2kgZmFsbGEgbGEgQkRcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICBsaW1pdDogMTIsXG4gICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgdG90YWxQYWdlczogMFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggQ3VzdG9tZXJzIEFQSSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InLCBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CflKcgQ3JlYXRpbmcgbmV3IGN1c3RvbWVyLi4uJylcbiAgICBcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudCgpXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgXG4gICAgLy8gVVVJRCB2w6FsaWRvIGRlIEZlcm5hbmRvIChvcmdhbml6YWNpw7NuIHJlYWwpXG4gICAgY29uc3Qgb3JnYW5pemF0aW9uSWQgPSAnODczZDgxNTQtOGI0MC00YjhhLThkMDMtNDMxYmY5ZjY5N2U2J1xuXG4gICAgLy8gVmFsaWRhciB0aXBvIGRlIGNsaWVudGVcbiAgICBpZiAoIVsnaWRlbnRpZmllZCcsICdhbm9ueW1vdXMnXS5pbmNsdWRlcyhib2R5LmN1c3RvbWVyX3R5cGUpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdUaXBvIGRlIGNsaWVudGUgaW52w6FsaWRvJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBuZXdDdXN0b21lciA9IHtcbiAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uSWQsXG4gICAgICBjdXN0b21lcl90eXBlOiBib2R5LmN1c3RvbWVyX3R5cGUsXG4gICAgICBuYW1lOiBib2R5Lm5hbWUgfHwgbnVsbCxcbiAgICAgIGVtYWlsOiBib2R5LmVtYWlsIHx8IG51bGwsXG4gICAgICBwaG9uZTogYm9keS5waG9uZSB8fCBudWxsLFxuICAgICAgYWRkcmVzczogYm9keS5hZGRyZXNzIHx8IG51bGwsXG4gICAgICBhbm9ueW1vdXNfaWRlbnRpZmllcjogYm9keS5hbm9ueW1vdXNfaWRlbnRpZmllciB8fCBudWxsLFxuICAgICAgaXNfcmVjdXJyZW50OiBib2R5LmlzX3JlY3VycmVudCB8fCBmYWxzZSxcbiAgICAgIG5vdGVzOiBib2R5Lm5vdGVzIHx8IG51bGxcbiAgICB9XG5cbiAgICAvLyBWYWxpZGFjaW9uZXMgZXNwZWPDrWZpY2FzIHBvciB0aXBvXG4gICAgaWYgKGJvZHkuY3VzdG9tZXJfdHlwZSA9PT0gJ2lkZW50aWZpZWQnKSB7XG4gICAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5waG9uZSkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBlcnJvcjogJ05vbWJyZSB5IHRlbMOpZm9ubyBzb24gb2JsaWdhdG9yaW9zIHBhcmEgY2xpZW50ZXMgaWRlbnRpZmljYWRvcycgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYm9keS5jdXN0b21lcl90eXBlID09PSAnYW5vbnltb3VzJykge1xuICAgICAgaWYgKCFib2R5LmFub255bW91c19pZGVudGlmaWVyKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiAnSWRlbnRpZmljYWRvciBhbsOzbmltbyBlcyBvYmxpZ2F0b3JpbyBwYXJhIGNsaWVudGVzIGFuw7NuaW1vcycgfSxcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YTogY3VzdG9tZXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2N1c3RvbWVycycpXG4gICAgICAuaW5zZXJ0KG5ld0N1c3RvbWVyKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign8J+aqCBFcnJvciBjcmVhdGluZyBjdXN0b21lcjonLCBlcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0Vycm9yIGFsIGNyZWFyIGVsIGNsaWVudGUnLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfinIUgQ3VzdG9tZXIgY3JlYXRlZCBzdWNjZXNzZnVsbHk6JywgY3VzdG9tZXIuaWQpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IGN1c3RvbWVyXG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ/CfmqggQ3JlYXRlIGN1c3RvbWVyIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicsIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJHRVQiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsInN1cGFiYXNlIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGFnZSIsInBhcnNlSW50IiwiZ2V0IiwibGltaXQiLCJzZWFyY2giLCJ0eXBlIiwib2Zmc2V0Iiwib3JnYW5pemF0aW9uSWQiLCJxdWVyeSIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwic2VhcmNoQ29uZGl0aW9ucyIsImpvaW4iLCJvciIsImRhdGEiLCJjdXN0b21lcnMiLCJlcnJvciIsImNvdW50IiwicmFuZ2UiLCJjdXN0b21lcnNXaXRoU3RhdHMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiY3VzdG9tZXIiLCJyZXBhaXJzIiwicmVwYWlyc0Vycm9yIiwiaWQiLCJ3YXJuIiwicmVwYWlyc0xpc3QiLCJ0b3RhbFNwZW50IiwiZmlsdGVyIiwiciIsImZpbmFsX2Nvc3QiLCJyZWR1Y2UiLCJzdW0iLCJzdGF0cyIsInRvdGFsUmVwYXJhY2lvbmVzIiwibGVuZ3RoIiwicGVuZGllbnRlcyIsInN0YXR1cyIsImNvbXBsZXRhZGFzIiwiZW50cmVnYWRhcyIsInRvdGFsR2FzdGFkbyIsImpzb24iLCJzdWNjZXNzIiwicGFnaW5hdGlvbiIsInRvdGFsIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwiZGJFcnJvciIsImRldGFpbHMiLCJFcnJvciIsIm1lc3NhZ2UiLCJQT1NUIiwiYm9keSIsImluY2x1ZGVzIiwiY3VzdG9tZXJfdHlwZSIsIm5ld0N1c3RvbWVyIiwib3JnYW5pemF0aW9uX2lkIiwibmFtZSIsImVtYWlsIiwicGhvbmUiLCJhZGRyZXNzIiwiYW5vbnltb3VzX2lkZW50aWZpZXIiLCJpc19yZWN1cnJlbnQiLCJub3RlcyIsImluc2VydCIsInNpbmdsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/customers/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase/server.ts":
/*!********************************!*\
  !*** ./lib/supabase/server.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createServerClient: () => (/* binding */ createServerClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst createServerClient = ()=>{\n    const supabaseUrl = \"https://hdqhdijirmfmgtbhqpjq.supabase.co\";\n    const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (!supabaseUrl || !supabaseServiceKey) {\n        throw new Error(\"Missing Supabase environment variables\");\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EO0FBRTdDLE1BQU1DLHFCQUFxQjtJQUNoQyxNQUFNQyxjQUFjQywwQ0FBb0M7SUFDeEQsTUFBTUcscUJBQXFCSCxRQUFRQyxHQUFHLENBQUNHLHlCQUF5QjtJQUVoRSxJQUFJLENBQUNMLGVBQWUsQ0FBQ0ksb0JBQW9CO1FBQ3ZDLE1BQU0sSUFBSUUsTUFBTTtJQUNsQjtJQUVBLE9BQU9SLG1FQUFZQSxDQUFDRSxhQUFhSSxvQkFBb0I7UUFDbkRHLE1BQU07WUFDSkMsa0JBQWtCO1lBQ2xCQyxnQkFBZ0I7UUFDbEI7SUFDRjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aWVuZGFmaXgtd2ViLy4vbGliL3N1cGFiYXNlL3NlcnZlci50cz82NjI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTZXJ2ZXJDbGllbnQgPSAoKSA9PiB7XHJcbiAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhXHJcbiAgY29uc3Qgc3VwYWJhc2VTZXJ2aWNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSFcclxuICBcclxuICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZVNlcnZpY2VLZXkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlS2V5LCB7XHJcbiAgICBhdXRoOiB7XHJcbiAgICAgIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLFxyXG4gICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcclxuICAgIH1cclxuICB9KVxyXG59ICJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiRXJyb3IiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase/server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcustomers%2Froute&page=%2Fapi%2Fcustomers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcustomers%2Froute.ts&appDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CFernando%5CDesktop%5CTiendaFix-Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();